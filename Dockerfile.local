# development stage with Bun
FROM oven/bun:1

# create app directory
WORKDIR /app

# copy frontend files
COPY frontend/package.json frontend/bun.lockb* ./
RUN bun install

# copy frontend source code and configuration
COPY frontend/ .
COPY .env ./

# generate Prisma client
RUN bunx prisma generate

# expose port
EXPOSE 8000

# run the application in development mode
CMD ["bun", "run", "dev"]
